<div class="page-container">
    <section class="hero-section" style="background-image: url('https://images.unsplash.com/photo-1586769852836-bc069f19e1b6?q=80&w=1974&auto=format&fit=crop');">
        <div class="hero-content">
            <h1>Fale Conosco</h1>
            <p>Sua opinião é importante para nós. Envie sua dúvida, sugestão ou proposta.</p>
        </div>
    </section>

    <div class="contact-container">
        <div class="form-column">
            <h2>Envie uma Mensagem</h2>
            <form id="contact-form">
                <div class="form-group">
                    <label for="name">Seu Nome</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Seu E-mail</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Seu Telefone</label>
                    <input type="tel" id="phone" name="phone">
                </div>
                <div class="form-group">
                    <label for="message">Sua Mensagem</label>
                    <textarea id="message" name="message" rows="6" required></textarea>
                </div>
                <button type="submit" class="btn-submit">Enviar Mensagem</button>
            </form>
            <p id="success-message" class="success-message" style="display: none;">
                <i class="ri-checkbox-circle-line"></i> Mensagem enviada com sucesso! Entraremos em contato em breve.
            </p>
        </div>

        <div class="info-column">
            <h2>Informações de Contato</h2>
            <div class="info-block">
                <h3><i class="ri-map-pin-2-fill"></i> Endereço</h3>
                <p>Rua dos Bobos, nº 0<br>Canoinhas, SC</p>
            </div>
            <div class="info-block">
                <h3><i class="ri-phone-fill"></i> Telefone</h3>
                <p>(47) 3622-0000</p>
            </div>
            <div class="info-block">
                <h3><i class="ri-whatsapp-fill"></i> WhatsApp</h3>
                <p>(47) 98888-0000</p>
            </div>
            <div class="info-block">
                <h3><i class="ri-mail-fill"></i> E-mail</h3>
                <p>contato@emecar.com.br</p>
            </div>
            <div class="info-block">
                <h3><i class="ri-time-line"></i> Horário de Atendimento</h3>
                <p>Segunda a Sexta: 08:00 - 18:00</p>
                <p>Sábado: 08:00 - 12:00</p>
            </div>
            <div class="map-wrapper">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d57245.97322396996!2d-50.42777033504381!3d-26.17758763568761!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94e76023e3810977%3A0x6b3154ae7b9f8369!2sCanoinhas%2C%20SC!5e0!3m2!1spt-BR!2sbr!4v1688665971439!5m2!1spt-BR!2sbr" loading="lazy"></iframe>
            </div>
        </div>
    </div>
</div>

{{!-- SCRIPT PARA ENVIO DO FORMULÁRIO --}}
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("contact-form");
        const successMessage = document.getElementById("success-message");
        const submitButton = form.querySelector('.btn-submit');

        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            submitButton.disabled = true;
            submitButton.textContent = 'Enviando...';

            const formData = {
                name: form.name.value,
                email: form.email.value,
                phone: form.phone.value,
                message: form.message.value,
            };

            try {
                const response = await fetch('/api/mensagens/contato', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });

                if (!response.ok) {
                    throw new Error('Houve um erro ao enviar sua mensagem. Tente novamente.');
                }

                // Sucesso
                form.reset();
                successMessage.style.display = 'block';
                successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 5000);

            } catch (error) {
                alert(error.message);
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = 'Enviar Mensagem';
            }
        });
    });
</script>